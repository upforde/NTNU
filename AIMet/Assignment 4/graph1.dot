graph MyGraph {
    root [shape = rect, label = Embarked, fillcolor = blue]
    pc1 [shape = rect, label = Pclass, fillcolor = blue]
    pc2 [shape = rect, label = Pclass, fillcolor = blue]
    pc3 [shape = rect, label = Pclass, fillcolor = blue]
    pc1s1 [shape = rect, label = Sex, fillcolor = blue]
    pc1s11 [shape = square, label=1, fillcolor = green]
    pc1s12 [shape = square, label=0, fillcolor = green]
    pc1s2 [shape = rect, label = Sex, fillcolor = blue]
    pc1s21 [shape = square, label=0, fillcolor = green]
    pc1s22 [shape = square, label=1, fillcolor = green]
    pc1s3 [shape = rect, label = Sex, fillcolor = blue]
    pc1s31 [shape = square, label=1, fillcolor = green]
    pc1s32 [shape = square, label=0, fillcolor = green]
    pc2s1 [shape = rect, label = Sex, fillcolor = blue]
    pc2s11 [shape = square, label=1, fillcolor = green]
    pc2s12 [shape = square, label=0, fillcolor = green]
    pc2s2 [shape = rect, label = Sex, fillcolor = blue]
    pc2s21 [shape = square, label=1, fillcolor = green]
    pc2s22 [shape = square, label=1, fillcolor = green]
    pc2s3 [shape = rect, label = Sex, fillcolor = blue]
    pc2s31 [shape = square, label=1, fillcolor = green]
    pc2s32 [shape = square, label=0, fillcolor = green]
    pc3s1 [shape = rect, label = Sex, fillcolor = blue]
    pc3s11 [shape = square, label=1, fillcolor = green]
    pc3s12 [shape = square, label=0, fillcolor = green]
    pc3s2 [shape = rect, label = Sex, fillcolor = blue]
    pc3s21 [shape = square, label=1, fillcolor = green]
    pc3s22 [shape = square, label=0, fillcolor = green]
    pc3s3 [shape = rect, label = Sex, fillcolor = blue]
    pc3s31 [shape = square, label=1, fillcolor = green]
    pc3s32 [shape = square, label=0, fillcolor = green]
    
    root -- pc1 [xlabel = Q];
    root -- pc2 [xlabel = "C   "];
    root -- pc3 [xlabel = S];

    pc1 -- pc1s1 [xlabel = 1]
    pc1s1 -- pc1s11 [label = male]
    pc1s1 -- pc1s12 [label = female]
    pc1 -- pc1s2 [xlabel = 2]
    pc1s2 -- pc1s21 [label = male]
    pc1s2 -- pc1s22 [label = female]
    pc1 -- pc1s3 [xlabel = 3]
    pc1s3 -- pc1s31 [label = male]
    pc1s3 -- pc1s32 [label = female]

    pc2 -- pc2s1 [xlabel = 1]
    pc2s1 -- pc2s11 [label = male]
    pc2s1 -- pc2s12 [label = female]
    pc2 -- pc2s2 [xlabel = 2]
    pc2s2 -- pc2s21 [label = male]
    pc2s2 -- pc2s22 [label = female]
    pc2 -- pc2s3 [xlabel = 3]
    pc2s3 -- pc2s31 [label = male]
    pc2s3 -- pc2s32 [label = female]
 
    pc3 -- pc3s1 [xlabel = 1]
    pc3s1 -- pc3s11 [label = male]
    pc3s1 -- pc3s12 [label = female]
    pc3 -- pc3s2 [xlabel = 2]
    pc3s2 -- pc3s21 [label = male]
    pc3s2 -- pc3s22 [label = female]
    pc3 -- pc3s3 [xlabel = 3]
    pc3s3 -- pc3s31 [label = male]
    pc3s3 -- pc3s32 [label = female]
}